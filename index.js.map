{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createMarkUp = images =>\n  images\n    .map(image => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = image;\n      return `<li class=\"gallery-item\">\n      <div>\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\" \n            title=\"${tags}\"\n            width=\"360\"\n            height=\"152\"\n          />\n          </a>\n          <div class=\"img-descr\">\n            <ul class=\"list-descr\">\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Likes</p>\n                <p class=\"descr-value\">${likes}</p>\n              </li>\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Views</p>\n                <p class=\"descr-value\">${views}</p>\n              </li>\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Comments</p>\n                <p class=\"descr-value\">${comments}</p>\n              </li>\n              <li class=\"item-descr\">\n                <p class=\"descr-name\">Downloads</p>\n                <p class=\"descr-value\">${downloads}</p>\n              </li>\n            </ul>          \n          </div>\n          </div>\n      </li>\n      `;\n    })\n    .join('');\n\nexport function galleryModal() {\n  let gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'title',\n    captionDelay: 250,\n    scrollZoom: false,\n  });\n  gallery.refresh();\n}\n// export function removeEl(elem, classToReamove) {\n//     elem.classList.remove(`${classToReamove}`);\n//  }","import axios from 'axios';\nimport { searchInput } from '../main';\n\nconst myApiKey = '49287257-770ce306313139aeab99da771';\nconst url = 'https://pixabay.com/api/';\nexport function searchData() {\n  return axios.get(url, {\n    params: {\n      key: myApiKey,\n      q: searchInput.value,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    },\n  });\n}\n","// import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\nimport { createMarkUp } from './js/render-functions';\nimport { galleryModal } from './js/render-functions';\n// import { removeEl } from './js/render-functions';\nimport { searchData } from './js/pixabay-api'\n\nconst formEl = document.querySelector('.form');\nexport const searchInput = document.querySelector('.form-input');\nconst resp = {\n  galleryEl: document.querySelector('.gallery'),\n  loaderEl: document.querySelector('.loader'),\n};\n\nformEl.addEventListener('submit', onSubmit);\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  \n  if (searchInput.value.trim() === '') {\n    return iziToast.warning({\n      position: 'topRight',\n      message: 'Please enter something',\n    }); \n  }\n  resp.loaderEl.classList.remove('visually-hidden');\n  resp.galleryEl.innerHTML = '';\n  searchData()\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        formEl.reset();\n        return iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }            \n      resp.galleryEl.insertAdjacentHTML(\n        'beforeend',\n        createMarkUp(response.data.hits)\n      );\n      galleryModal();\n      formEl.reset();\n    })\n    .catch(error => console.log(error))\n    .finally(() => resp.loaderEl.classList.add('visually-hidden'));\n}\n  \n \n"],"names":["createMarkUp","images","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryModal","SimpleLightbox","myApiKey","url","searchData","axios","searchInput","formEl","resp","onSubmit","evt","iziToast","response","error"],"mappings":"owBAGO,MAAMA,EAAeC,GAC1BA,EACG,IAAIC,GAAS,CACZ,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,wCAE2BE,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA,qBACFA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCASgBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOlD,CAAK,EACA,KAAK,EAAE,EAEL,SAASC,GAAe,CACf,IAAIC,EAAe,aAAc,CAC7C,aAAc,QACd,aAAc,IACd,WAAY,EAChB,CAAG,EACO,QAAO,CACjB,CCzDA,MAAMC,EAAW,qCACXC,EAAM,2BACL,SAASC,GAAa,CAC3B,OAAOC,EAAM,IAAIF,EAAK,CACpB,OAAQ,CACN,IAAKD,EACL,EAAGI,EAAY,MACf,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACL,CAAG,CACH,CCLA,MAAMC,EAAS,SAAS,cAAc,OAAO,EAChCD,EAAc,SAAS,cAAc,aAAa,EACzDE,EAAO,CACX,UAAW,SAAS,cAAc,UAAU,EAC5C,SAAU,SAAS,cAAc,SAAS,CAC5C,EAEAD,EAAO,iBAAiB,SAAUE,CAAQ,EAC1C,SAASA,EAASC,EAAK,CAGrB,GAFAA,EAAI,eAAc,EAEdJ,EAAY,MAAM,KAAI,IAAO,GAC/B,OAAOK,EAAS,QAAQ,CACtB,SAAU,WACV,QAAS,wBACf,CAAK,EAEHH,EAAK,SAAS,UAAU,OAAO,iBAAiB,EAChDA,EAAK,UAAU,UAAY,GAC3BJ,EAAY,EACT,KAAKQ,GAAY,CAChB,GAAIA,EAAS,KAAK,KAAK,SAAW,EAChC,OAAAL,EAAO,MAAK,EACLI,EAAS,MAAM,CACpB,SAAU,WACV,QACE,0EACZ,CAAS,EAEHH,EAAK,UAAU,mBACb,YACAlB,EAAasB,EAAS,KAAK,IAAI,CACvC,EACMZ,IACAO,EAAO,MAAK,CAClB,CAAK,EACA,MAAMM,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAML,EAAK,SAAS,UAAU,IAAI,iBAAiB,CAAC,CACjE"}